<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Edit Course</title>
</head>
<body>
    <h1>Edit Course</h1>
    <h2>
        Name: {{ .Name }}
    </h2>
    <h3>
        Instructor: {{ .Instructor }}
    </h3>
    <h3>
        Prerequisites: {{ .Prerequisites }}
    </h3>
    <form>
        <label for="name">Course Name:</label>
        <input type="text" id="name" name="name"><br><br>
        <label for="instructor">Instructor:</label>
        <input type="text" id="instructor" name="instructor"><br><br>
        <label for="preRequisites">preRequisites:</label>
        <input type="number" id="preRequisites" name="preRequisites"><br><br>
        <button type="submit" >Submit</button> 
    </form>
    <script>
        document.querySelector('form').addEventListener('submit', (e) => {
            e.preventDefault()
            const data = Object.fromEntries(new FormData(e.target).entries());
            data.courseId = Number(window.location.pathname.split("edit/")[1])
            data.preRequisites = [Number(data.preRequisites)] // don't even ask lol
            axios.patch("http://localhost:8080/course/" + String(data.courseId), data);
        }); 
    </script>
</body>
</html>